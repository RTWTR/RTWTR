@using RTWTR.MVC.Models
@model TwitterUserViewModel

@{
    <!-- Pictures are high-res without "_normal" -->
    var imageUrl = $"{Model.ProfileImageUrl.Replace("_normal", "")}";    
}

<div class="container">
    <div class="col-md-6">
        <img class="img-circle" src=@imageUrl></img>
    </div>

    <div class="col-md-6">
        <h3>@Model.Name</h3>
        <a asp-controller="Tweets" asp-action="ShowTwitterUserTimeline" asp-route-screenname="@Model.ScreenName"><h4>@@@Model.ScreenName</h4></a>
        <div class ="text">@Model.Description</div>
    </div>

    <!-- TODO: Make is so it shows Remove from favourites when hovered -->
    @if (@Model.IsFavourite)
    {
        <form class="ajax-call ajax-remove" asp-controller="Users" asp-action="RemoveFromFavourites" asp-route-screenname="@Model.ScreenName" method="POST">
            <button class="btn btn-primary left" type="submit" data-loading-text="<i class='fa fa-spinner fa-spin '></i> Loading" data-name="@Model.ScreenName">Remove from Favourites</button>
        </form>
    }
    else
    {
        <form class="ajax-call ajax-add" asp-controller="Users" asp-action="AddToFavourites" asp-route-screenname="@Model.ScreenName" method="POST">
            <button class="btn btn-primary left" type="submit" data-loading-text="<i class='fa fa-spinner fa-spin '></i> Loading" data-name="@Model.ScreenName">Add to Favourites</button>
        </form>
    }
</div>
